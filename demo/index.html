<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>JSON 2 form</title>
		<link rel="stylesheet" href="style.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/codemirror.min.css"></link>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/theme/monokai.min.css">

	</head>
	<body>
		<div id="code"></div>
        <form id="form"></form>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/codemirror.min.js"></script>
        <script type="text/javascript"src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/mode/javascript/javascript.min.js"></script>
        <script src="../json2form.js"></script>
<script>
    const form = document.getElementById('form');
    const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)
    const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0)
    var editor = CodeMirror(document.querySelector('#code'), {
      lineNumbers: true,
      tabSize: 2,
      value: '{"0":{"type":"input", "attributes": {"placeholder": "test", "name": "test", "value": "Test"}}}',
      mode: 'javascript',
      theme: 'monokai'
    });
    editor.setSize(vw / 2 - 50, vh);
    editor.on('change', (e) => {
        form.innerHTML = ""
        json2form(editor.getValue())
    })
</script>
	</body>
</html>
